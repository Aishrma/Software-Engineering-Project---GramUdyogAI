@startuml
title Data Flow Diagram - Level 1 (Detailed System)

!define PROCESS rectangle
!define DATASTORE database
!define EXTERNAL rectangle

skinparam rectangle {
    BackgroundColor LightGreen
    BorderColor Black
}

skinparam database {
    BackgroundColor LightYellow
    BorderColor Black
}

EXTERNAL "User\n(All Types)" as user

PROCESS "1.0\nAuthentication\n& Authorization" as auth
PROCESS "2.0\nProfile\nManagement" as profile
PROCESS "3.0\nAI Business\nSuggestion" as business
PROCESS "4.0\nCourse\nRecommendation" as course
PROCESS "5.0\nGovernment\nScheme Finder" as scheme
PROCESS "6.0\nJob Board\nManagement" as job
PROCESS "7.0\nYouTube\nSummarization" as youtube
PROCESS "8.0\nTranslation\nService" as translate
PROCESS "9.0\nNotification\nSystem" as notify

DATASTORE "D1: Users\nDatabase" as db_users
DATASTORE "D2: Profiles\nDatabase" as db_profiles
DATASTORE "D3: Suggestions\nDatabase" as db_suggestions
DATASTORE "D4: Courses\nDatabase" as db_courses
DATASTORE "D5: Schemes\nDatabase" as db_schemes
DATASTORE "D6: Jobs\nDatabase" as db_jobs
DATASTORE "D7: Notifications\nDatabase" as db_notify

EXTERNAL "AI Service\n(OpenAI/Groq)" as ai
EXTERNAL "Government\nAPI" as gov

user --> auth : Login credentials
auth --> db_users : Verify credentials
db_users --> auth : User data
auth --> user : JWT token

user --> profile : Profile info
profile --> db_profiles : Store/Update profile
db_profiles --> profile : Profile data

user --> business : Skills, resources,\nlocation
business --> db_profiles : Fetch profile
business --> ai : Generate prompt
ai --> business : Business ideas
business --> db_suggestions : Store suggestions
business --> user : Recommendations

user --> course : Skill preferences
course --> db_profiles : Fetch profile
course --> ai : Course query
ai --> course : Course list
course --> db_courses : Store courses
course --> user : Course recommendations

user --> scheme : Eligibility criteria
scheme --> db_profiles : Fetch profile
scheme --> gov : Query schemes
gov --> scheme : Scheme data
scheme --> db_schemes : Cache schemes
scheme --> user : Eligible schemes

user --> job : Job query/post
job --> db_jobs : Store/Retrieve jobs
job --> ai : Match skills
db_jobs --> job : Job listings
job --> user : Job results

user --> youtube : Video URL
youtube --> ai : Summarize video
ai --> youtube : Summary text
youtube --> translate : Translate
translate --> ai : Translation request
ai --> translate : Translated text
translate --> youtube : Translated summary
youtube --> user : Audio summary

business --> notify : Create notification
scheme --> notify : Create notification
job --> notify : Create notification
notify --> db_notify : Store notification
notify --> user : Push notification

@enduml
